CREATE DATABASE IF NOT EXISTS my_db;

-- Granting privileges to the user
GRANT SELECT, INSERT, UPDATE ON my_db.* TO 'db_user'@'%';

USE my_db;

-- Dropping the table if it exists
DROP TABLE IF EXISTS `users`;

-- Creating the users table
CREATE TABLE `users` (
    `username` VARCHAR(50) NOT NULL,
    `password` VARCHAR(50) NOT NULL,
    `image_data` VARCHAR(50),
    `failed_login` INT,
    `last_login` TIMESTAMP
);

-- Inserting data into the users table
INSERT INTO `users` (`username`, `password`, `image_data`, `failed_login`, `last_login`) VALUES ('admin', 'password', 'avatar/success.jpg', 0, NULL);
